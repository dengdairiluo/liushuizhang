# 笔记

## Java并发编程实战

### 1.你为什么要学并发编程
并发 = 分工 + 同步 + 互斥

**分工**：如何高效地拆解任务并分配给线程

**同步** ： 线程之间如何协作

**互斥**： 保证同一时刻只允许一个线程访问共享资源

### 2. 如何才能学好并发 编程

#### 分工
#### 同步
一个线程执行完了一个任务，如何通知执行后续任务的线程开工

当某个条件不满足时，线程需要等待，当某个条件满足时，线程需要被唤醒执行

管程是解决并发问题的万能钥匙

#### 互斥（线程安全）
**互斥：** 同一时刻，只允许一个线程访问共享变量


#### 并发编程结构

* 并发编程
  * 协作
    * 信号量
    * 管程 
      * Lock&Condition
      * synchronized
    * CountDownLatch
    * CyclicBarrier
    * Phaser
    * Exchanger
  * 互斥
    * 无锁
      * 不变模式
      * 线程本地存储
      * CAS
      * Copy-on-Write
      * 原子类
    * 互斥锁
      * synchronized
  * 分工
    * Exeutor与线程池
    * Fork/Join
    * Future
    * Guarded Suspension模式
    * BalKing模式
    * Thread-Per-Message模式
    * 生产者-消费者模式
    * Worker Thread模式
    * 两阶段终止模式

工程上的解决方案，一定要有理论基础

## MySQL实战45讲

### 0.开篇词 

从点到线，再到面，形成自己的MySQL知识网络

### 1.基础架构：一条SQL查询语句是如何执行的

**连接器** ：用户名密码验证，验证通过后获取权限

**查询缓存**
但是大多数情况下建议不使用查询缓存，因为弊大于利

**分析器**

**优化器**

**执行器**

#### 2.日志系统：一条SQL更新语句是如何执行的

#### 重要日志模块： redo log ，bin log

redo log crash-safe
bin log 

**不同：**

* redo log InnoDB 特有； bin log MySQL Server层实现。
* redo log 是物理日志，记录在某个数据页上做了什么修改； binlog 是逻辑日志记录语句原始逻辑
* redo log 循环写，空间固定会用完；binlog 追加写入的。binlog文件写完一定大小后会切换到下一个
  
  **两阶段提交**

## 深入拆解Java虚拟机

### 0.为什么我们要学校java 虚拟机

*   基本原理
*   高效实现
*   代码优化
*   虚拟机黑科技

### 1.Java代码是怎么运行的

#### 为什么Java要在虚拟机里运行

java代码 编译成class文件加载到Java虚拟机中，加载后的Java会被存放于方法区中，实际运行会执行方法区内的代码。

* Java虚拟机
  * 线程共享
    * 方法区
    * 栈
  * 线程私有
    * PC寄存器
    * Java方法栈
    * 本地方法栈

在运行过程中，每当调用进入一个 Java 方法，Java 虚拟机会在当前线程的 Java 方法栈中生成一个栈帧，用以存放局部变量以及字节码的操作数。这个栈帧的大小是提前计算好的，而且 Java 虚拟机不要求栈帧在内存空间里连续分布。




   
 